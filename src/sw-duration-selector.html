<div class="{{options.cssClass}}">
    <input type="text" ng-model="ngModel" ng-click="showPresets = !showPresets" readonly>
    <div class="popup" ng-class="{custom:showCustom}" ng-show="showPresets">
        <div class="custom-picker" ng-show="showPresets && showCustom">
            <month-picker class="left" type="start"></month-picker>
            <month-picker class="right" type="end"></month-picker>
        </div>
        <ul class="presets">
            <li class="preset" ng-repeat="preset in options.presets" ng-click="updateModel(preset)" ng-class="{selected: preset.value == ngModel && !showCustom, disabled: !preset.enabled}">
                {{preset.buttonText}}
            </li>
            <li class="preset" ng-click="updateModel({value: 'custom'})" ng-class="{selected: showCustom}">
                {{showCustom ? 'Click to apply' : 'Custom Range'}}
            </li>
        </ul>
    </div>
</div>